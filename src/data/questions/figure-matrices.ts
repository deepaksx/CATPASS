import type { FigureMatrixQuestion, ShapeConfig } from '../../lib/types';

export const figureMatrixQuestions: FigureMatrixQuestion[] = [
  // ============================================================
  // EASY QUESTIONS (fm-e-1 through fm-e-20) — 2×2 matrices
  // ============================================================

  // --- Rotation across row (5 questions) ---
  {
    type: 'figure-matrices',
    id: 'fm-e-1',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'triangle', fill: 'solid', size: 'medium', rotation: 0 },
      { shapeType: 'triangle', fill: 'solid', size: 'medium', rotation: 90 },
      { shapeType: 'square', fill: 'solid', size: 'medium', rotation: 0 },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'square', fill: 'solid', size: 'medium', rotation: 180 },
      { shapeType: 'square', fill: 'solid', size: 'medium', rotation: 90 },
      { shapeType: 'triangle', fill: 'solid', size: 'medium', rotation: 90 },
      { shapeType: 'square', fill: 'empty', size: 'medium', rotation: 90 },
      { shapeType: 'circle', fill: 'solid', size: 'medium', rotation: 90 },
    ],
    correctAnswer: 1,
    rowRule: 'Shape rotates 90 degrees clockwise across the row',
    explanation: 'In each row, the shape rotates 90 degrees. The top row: triangle at 0° becomes triangle at 90°. Bottom row: square at 0° should become square at 90°.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-2',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'arrow', fill: 'empty', size: 'large', rotation: 0 },
      { shapeType: 'arrow', fill: 'empty', size: 'large', rotation: 90 },
      { shapeType: 'arrow', fill: 'solid', size: 'large', rotation: 0 },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'arrow', fill: 'solid', size: 'large', rotation: 0 },
      { shapeType: 'arrow', fill: 'empty', size: 'large', rotation: 90 },
      { shapeType: 'arrow', fill: 'solid', size: 'large', rotation: 90 },
      { shapeType: 'arrow', fill: 'solid', size: 'large', rotation: 180 },
      { shapeType: 'triangle', fill: 'solid', size: 'large', rotation: 90 },
    ],
    correctAnswer: 2,
    rowRule: 'Arrow rotates 90 degrees across the row',
    explanation: 'In each row, the arrow rotates 90 degrees. Top: 0° to 90°. Bottom: 0° should go to 90°. Fill stays same within rows (empty top, solid bottom).',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-3',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'diamond', fill: 'dotted', size: 'medium', rotation: 0 },
      { shapeType: 'diamond', fill: 'dotted', size: 'medium', rotation: 90 },
      { shapeType: 'pentagon', fill: 'dotted', size: 'medium', rotation: 0 },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'pentagon', fill: 'dotted', size: 'medium', rotation: 90 },
      { shapeType: 'pentagon', fill: 'solid', size: 'medium', rotation: 90 },
      { shapeType: 'diamond', fill: 'dotted', size: 'medium', rotation: 90 },
      { shapeType: 'pentagon', fill: 'dotted', size: 'medium', rotation: 180 },
      { shapeType: 'hexagon', fill: 'dotted', size: 'medium', rotation: 90 },
    ],
    correctAnswer: 0,
    rowRule: 'Shape rotates 90 degrees across the row',
    explanation: 'Each row shows a shape rotating 90 degrees. Diamond at 0° to 90°. Pentagon at 0° should become pentagon at 90°.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-4',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'star', fill: 'solid', size: 'small', rotation: 0 },
      { shapeType: 'star', fill: 'solid', size: 'small', rotation: 180 },
      { shapeType: 'cross', fill: 'solid', size: 'small', rotation: 0 },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'cross', fill: 'empty', size: 'small', rotation: 180 },
      { shapeType: 'star', fill: 'solid', size: 'small', rotation: 180 },
      { shapeType: 'cross', fill: 'solid', size: 'small', rotation: 90 },
      { shapeType: 'cross', fill: 'solid', size: 'small', rotation: 180 },
      { shapeType: 'cross', fill: 'solid', size: 'large', rotation: 180 },
    ],
    correctAnswer: 3,
    rowRule: 'Shape rotates 180 degrees across the row',
    explanation: 'Each row shows a shape rotating 180 degrees. Star at 0° to 180°. Cross at 0° should become cross at 180°.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-5',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'hexagon', fill: 'empty', size: 'large', rotation: 0 },
      { shapeType: 'hexagon', fill: 'empty', size: 'large', rotation: 45 },
      { shapeType: 'triangle', fill: 'empty', size: 'large', rotation: 0 },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'triangle', fill: 'empty', size: 'large', rotation: 90 },
      { shapeType: 'triangle', fill: 'empty', size: 'large', rotation: 45 },
      { shapeType: 'hexagon', fill: 'empty', size: 'large', rotation: 45 },
      { shapeType: 'triangle', fill: 'solid', size: 'large', rotation: 45 },
      { shapeType: 'square', fill: 'empty', size: 'large', rotation: 45 },
    ],
    correctAnswer: 1,
    rowRule: 'Shape rotates 45 degrees across the row',
    explanation: 'Each row shows a shape rotating 45 degrees. Hexagon at 0° to 45°. Triangle at 0° should become triangle at 45°.',
  },

  // --- Fill change across row (5 questions) ---
  {
    type: 'figure-matrices',
    id: 'fm-e-6',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'circle', fill: 'solid', size: 'medium' },
      { shapeType: 'circle', fill: 'empty', size: 'medium' },
      { shapeType: 'square', fill: 'solid', size: 'medium' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'square', fill: 'solid', size: 'medium' },
      { shapeType: 'circle', fill: 'empty', size: 'medium' },
      { shapeType: 'square', fill: 'empty', size: 'medium' },
      { shapeType: 'square', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'triangle', fill: 'empty', size: 'medium' },
    ],
    correctAnswer: 2,
    rowRule: 'Fill changes from solid to empty across the row',
    explanation: 'Left column is solid, right column is empty. Circle solid to circle empty. Square solid should become square empty.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-7',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'triangle', fill: 'empty', size: 'large' },
      { shapeType: 'triangle', fill: 'solid', size: 'large' },
      { shapeType: 'hexagon', fill: 'empty', size: 'large' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'hexagon', fill: 'empty', size: 'large' },
      { shapeType: 'hexagon', fill: 'solid', size: 'large' },
      { shapeType: 'triangle', fill: 'solid', size: 'large' },
      { shapeType: 'hexagon', fill: 'striped-vertical', size: 'large' },
      { shapeType: 'pentagon', fill: 'solid', size: 'large' },
    ],
    correctAnswer: 1,
    rowRule: 'Fill changes from empty to solid across the row',
    explanation: 'Left column is empty, right column is solid. Triangle empty to triangle solid. Hexagon empty should become hexagon solid.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-8',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'star', fill: 'solid', size: 'medium' },
      { shapeType: 'star', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'diamond', fill: 'solid', size: 'medium' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'diamond', fill: 'solid', size: 'medium' },
      { shapeType: 'diamond', fill: 'empty', size: 'medium' },
      { shapeType: 'star', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'diamond', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'diamond', fill: 'dotted', size: 'medium' },
    ],
    correctAnswer: 3,
    rowRule: 'Fill changes from solid to striped-horizontal across the row',
    explanation: 'Left column is solid, right column is striped-horizontal. Star solid to star striped. Diamond solid should become diamond striped-horizontal.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-9',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'pentagon', fill: 'dotted', size: 'small' },
      { shapeType: 'pentagon', fill: 'solid', size: 'small' },
      { shapeType: 'cross', fill: 'dotted', size: 'small' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'cross', fill: 'dotted', size: 'small' },
      { shapeType: 'cross', fill: 'empty', size: 'small' },
      { shapeType: 'pentagon', fill: 'solid', size: 'small' },
      { shapeType: 'cross', fill: 'striped-vertical', size: 'small' },
      { shapeType: 'cross', fill: 'solid', size: 'small' },
    ],
    correctAnswer: 4,
    rowRule: 'Fill changes from dotted to solid across the row',
    explanation: 'Left column is dotted, right column is solid. Pentagon dotted to pentagon solid. Cross dotted should become cross solid.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-10',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'arrow', fill: 'striped-vertical', size: 'medium' },
      { shapeType: 'arrow', fill: 'empty', size: 'medium' },
      { shapeType: 'circle', fill: 'striped-vertical', size: 'medium' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'circle', fill: 'solid', size: 'medium' },
      { shapeType: 'circle', fill: 'striped-vertical', size: 'medium' },
      { shapeType: 'circle', fill: 'empty', size: 'medium' },
      { shapeType: 'arrow', fill: 'empty', size: 'medium' },
      { shapeType: 'circle', fill: 'dotted', size: 'medium' },
    ],
    correctAnswer: 2,
    rowRule: 'Fill changes from striped-vertical to empty across the row',
    explanation: 'Left column is striped-vertical, right column is empty. Arrow striped to arrow empty. Circle striped should become circle empty.',
  },

  // --- Size change across row (5 questions) ---
  {
    type: 'figure-matrices',
    id: 'fm-e-11',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'circle', fill: 'solid', size: 'small' },
      { shapeType: 'circle', fill: 'solid', size: 'large' },
      { shapeType: 'triangle', fill: 'solid', size: 'small' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'triangle', fill: 'solid', size: 'small' },
      { shapeType: 'triangle', fill: 'solid', size: 'medium' },
      { shapeType: 'triangle', fill: 'solid', size: 'large' },
      { shapeType: 'circle', fill: 'solid', size: 'large' },
      { shapeType: 'triangle', fill: 'empty', size: 'large' },
    ],
    correctAnswer: 2,
    rowRule: 'Size changes from small to large across the row',
    explanation: 'Left column is small, right column is large. Small circle to large circle. Small triangle should become large triangle.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-12',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'square', fill: 'empty', size: 'large' },
      { shapeType: 'square', fill: 'empty', size: 'small' },
      { shapeType: 'pentagon', fill: 'empty', size: 'large' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'pentagon', fill: 'empty', size: 'large' },
      { shapeType: 'pentagon', fill: 'solid', size: 'small' },
      { shapeType: 'pentagon', fill: 'empty', size: 'small' },
      { shapeType: 'pentagon', fill: 'empty', size: 'medium' },
      { shapeType: 'square', fill: 'empty', size: 'small' },
    ],
    correctAnswer: 2,
    rowRule: 'Size changes from large to small across the row',
    explanation: 'Left column is large, right column is small. Large square to small square. Large pentagon should become small pentagon.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-13',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'hexagon', fill: 'dotted', size: 'small' },
      { shapeType: 'hexagon', fill: 'dotted', size: 'medium' },
      { shapeType: 'star', fill: 'dotted', size: 'small' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'star', fill: 'dotted', size: 'small' },
      { shapeType: 'star', fill: 'dotted', size: 'large' },
      { shapeType: 'hexagon', fill: 'dotted', size: 'medium' },
      { shapeType: 'star', fill: 'dotted', size: 'medium' },
      { shapeType: 'star', fill: 'solid', size: 'medium' },
    ],
    correctAnswer: 3,
    rowRule: 'Size changes from small to medium across the row',
    explanation: 'Left column is small, right column is medium. Small hexagon to medium hexagon. Small star should become medium star.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-14',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'diamond', fill: 'solid', size: 'medium' },
      { shapeType: 'diamond', fill: 'solid', size: 'large' },
      { shapeType: 'arrow', fill: 'solid', size: 'medium' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'arrow', fill: 'solid', size: 'small' },
      { shapeType: 'arrow', fill: 'solid', size: 'medium' },
      { shapeType: 'diamond', fill: 'solid', size: 'large' },
      { shapeType: 'arrow', fill: 'empty', size: 'large' },
      { shapeType: 'arrow', fill: 'solid', size: 'large' },
    ],
    correctAnswer: 4,
    rowRule: 'Size changes from medium to large across the row',
    explanation: 'Left column is medium, right column is large. Medium diamond to large diamond. Medium arrow should become large arrow.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-15',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'cross', fill: 'striped-horizontal', size: 'large' },
      { shapeType: 'cross', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'circle', fill: 'striped-horizontal', size: 'large' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'circle', fill: 'striped-horizontal', size: 'large' },
      { shapeType: 'circle', fill: 'striped-horizontal', size: 'small' },
      { shapeType: 'circle', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'cross', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'circle', fill: 'solid', size: 'medium' },
    ],
    correctAnswer: 2,
    rowRule: 'Size changes from large to medium across the row',
    explanation: 'Left column is large, right column is medium. Large cross to medium cross. Large circle should become medium circle.',
  },

  // --- Shape stays same, fill changes across row (5 questions) ---
  {
    type: 'figure-matrices',
    id: 'fm-e-16',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'triangle', fill: 'solid', size: 'medium' },
      { shapeType: 'triangle', fill: 'dotted', size: 'medium' },
      { shapeType: 'triangle', fill: 'empty', size: 'medium' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'triangle', fill: 'solid', size: 'medium' },
      { shapeType: 'triangle', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'square', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'triangle', fill: 'empty', size: 'medium' },
      { shapeType: 'triangle', fill: 'dotted', size: 'medium' },
    ],
    correctAnswer: 1,
    rowRule: 'Fill pattern changes: row 1 = solid→dotted, row 2 = empty→striped',
    explanation: 'The pattern shows fills changing across rows. The first row goes solid to dotted. The second row goes empty to striped-horizontal, following the pattern of fill transformation.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-17',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'hexagon', fill: 'empty', size: 'large' },
      { shapeType: 'hexagon', fill: 'dotted', size: 'large' },
      { shapeType: 'hexagon', fill: 'solid', size: 'large' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'hexagon', fill: 'empty', size: 'large' },
      { shapeType: 'hexagon', fill: 'striped-diagonal', size: 'large' },
      { shapeType: 'hexagon', fill: 'solid', size: 'large' },
      { shapeType: 'pentagon', fill: 'striped-horizontal', size: 'large' },
      { shapeType: 'hexagon', fill: 'striped-horizontal', size: 'large' },
    ],
    correctAnswer: 4,
    rowRule: 'Fill changes across the row: row 1 empty→dotted, row 2 solid→striped',
    explanation: 'Fills change across rows. Row 1 goes empty→dotted. Row 2 continues the progression: solid should become striped-horizontal.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-18',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'square', fill: 'striped-diagonal', size: 'small' },
      { shapeType: 'square', fill: 'solid', size: 'small' },
      { shapeType: 'square', fill: 'striped-vertical', size: 'small' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'square', fill: 'empty', size: 'small' },
      { shapeType: 'square', fill: 'striped-diagonal', size: 'small' },
      { shapeType: 'square', fill: 'solid', size: 'small' },
      { shapeType: 'circle', fill: 'solid', size: 'small' },
      { shapeType: 'square', fill: 'dotted', size: 'small' },
    ],
    correctAnswer: 0,
    rowRule: 'Fill changes across the row: striped→solid in row 1, striped→empty in row 2',
    explanation: 'Each row shows a fill transformation for the same shape. Striped-diagonal becomes solid. Striped-vertical should become empty.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-19',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'circle', fill: 'solid', size: 'medium' },
      { shapeType: 'circle', fill: 'striped-vertical', size: 'medium' },
      { shapeType: 'pentagon', fill: 'solid', size: 'medium' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'pentagon', fill: 'solid', size: 'medium' },
      { shapeType: 'circle', fill: 'striped-vertical', size: 'medium' },
      { shapeType: 'pentagon', fill: 'empty', size: 'medium' },
      { shapeType: 'pentagon', fill: 'striped-vertical', size: 'medium' },
      { shapeType: 'pentagon', fill: 'dotted', size: 'medium' },
    ],
    correctAnswer: 3,
    rowRule: 'Fill changes from solid to striped-vertical across the row',
    explanation: 'Left column is solid, right column is striped-vertical. Solid circle becomes striped-vertical circle. Solid pentagon should become striped-vertical pentagon.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-e-20',
    difficulty: 'easy',
    gridSize: 2,
    cells: [
      { shapeType: 'star', fill: 'dotted', size: 'large' },
      { shapeType: 'star', fill: 'empty', size: 'large' },
      { shapeType: 'diamond', fill: 'dotted', size: 'large' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'diamond', fill: 'solid', size: 'large' },
      { shapeType: 'diamond', fill: 'dotted', size: 'large' },
      { shapeType: 'star', fill: 'empty', size: 'large' },
      { shapeType: 'diamond', fill: 'empty', size: 'large' },
      { shapeType: 'diamond', fill: 'striped-horizontal', size: 'large' },
    ],
    correctAnswer: 3,
    rowRule: 'Fill changes from dotted to empty across the row',
    explanation: 'Left column is dotted, right column is empty. Dotted star becomes empty star. Dotted diamond should become empty diamond.',
  },

  // ============================================================
  // MEDIUM QUESTIONS (fm-m-1 through fm-m-20) — 2×2 matrices
  // ============================================================

  // --- Shape type changes across row, fill stays same across column (5 questions) ---
  {
    type: 'figure-matrices',
    id: 'fm-m-1',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'circle', fill: 'solid', size: 'medium' },
      { shapeType: 'square', fill: 'solid', size: 'medium' },
      { shapeType: 'circle', fill: 'empty', size: 'medium' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'circle', fill: 'empty', size: 'medium' },
      { shapeType: 'square', fill: 'solid', size: 'medium' },
      { shapeType: 'square', fill: 'empty', size: 'medium' },
      { shapeType: 'triangle', fill: 'empty', size: 'medium' },
      { shapeType: 'square', fill: 'striped-horizontal', size: 'medium' },
    ],
    correctAnswer: 2,
    rowRule: 'Shape changes from circle to square across the row',
    colRule: 'Fill stays the same down each column (col1: solid→empty, col2: solid→empty)',
    explanation: 'Across rows: circle becomes square. Down columns: fill changes solid→empty. Missing cell should be a square (like top-right) with empty fill (like bottom-left column).',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-2',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'triangle', fill: 'striped-horizontal', size: 'large' },
      { shapeType: 'hexagon', fill: 'striped-horizontal', size: 'large' },
      { shapeType: 'triangle', fill: 'dotted', size: 'large' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'hexagon', fill: 'striped-horizontal', size: 'large' },
      { shapeType: 'triangle', fill: 'dotted', size: 'large' },
      { shapeType: 'hexagon', fill: 'dotted', size: 'large' },
      { shapeType: 'hexagon', fill: 'solid', size: 'large' },
      { shapeType: 'pentagon', fill: 'dotted', size: 'large' },
    ],
    correctAnswer: 2,
    rowRule: 'Shape changes from triangle to hexagon across the row',
    colRule: 'Fill changes from striped to dotted down columns',
    explanation: 'Across rows: triangle becomes hexagon. Down columns: fill changes from striped-horizontal to dotted. Missing cell: hexagon with dotted fill.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-3',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'pentagon', fill: 'solid', size: 'small' },
      { shapeType: 'star', fill: 'solid', size: 'small' },
      { shapeType: 'pentagon', fill: 'striped-vertical', size: 'small' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'pentagon', fill: 'striped-vertical', size: 'small' },
      { shapeType: 'star', fill: 'solid', size: 'small' },
      { shapeType: 'star', fill: 'striped-vertical', size: 'small' },
      { shapeType: 'star', fill: 'empty', size: 'small' },
      { shapeType: 'pentagon', fill: 'solid', size: 'small' },
    ],
    correctAnswer: 2,
    rowRule: 'Shape changes from pentagon to star across the row',
    colRule: 'Fill changes from solid to striped-vertical down columns',
    explanation: 'Across rows: pentagon becomes star. Down columns: fill changes from solid to striped-vertical. Missing cell: star with striped-vertical fill.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-4',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'diamond', fill: 'empty', size: 'medium' },
      { shapeType: 'cross', fill: 'empty', size: 'medium' },
      { shapeType: 'diamond', fill: 'solid', size: 'medium' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'diamond', fill: 'solid', size: 'medium' },
      { shapeType: 'cross', fill: 'empty', size: 'medium' },
      { shapeType: 'cross', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'cross', fill: 'solid', size: 'medium' },
      { shapeType: 'diamond', fill: 'empty', size: 'medium' },
    ],
    correctAnswer: 3,
    rowRule: 'Shape changes from diamond to cross across the row',
    colRule: 'Fill changes from empty to solid down columns',
    explanation: 'Across rows: diamond becomes cross. Down columns: fill changes from empty to solid. Missing cell: cross with solid fill.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-5',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'arrow', fill: 'dotted', size: 'large' },
      { shapeType: 'circle', fill: 'dotted', size: 'large' },
      { shapeType: 'arrow', fill: 'striped-diagonal', size: 'large' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'arrow', fill: 'striped-diagonal', size: 'large' },
      { shapeType: 'circle', fill: 'dotted', size: 'large' },
      { shapeType: 'circle', fill: 'solid', size: 'large' },
      { shapeType: 'arrow', fill: 'dotted', size: 'large' },
      { shapeType: 'circle', fill: 'striped-diagonal', size: 'large' },
    ],
    correctAnswer: 4,
    rowRule: 'Shape changes from arrow to circle across the row',
    colRule: 'Fill changes from dotted to striped-diagonal down columns',
    explanation: 'Across rows: arrow becomes circle. Down columns: fill changes from dotted to striped-diagonal. Missing cell: circle with striped-diagonal fill.',
  },

  // --- Rotation + fill change (5 questions) ---
  {
    type: 'figure-matrices',
    id: 'fm-m-6',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'triangle', fill: 'solid', size: 'medium', rotation: 0 },
      { shapeType: 'triangle', fill: 'empty', size: 'medium', rotation: 90 },
      { shapeType: 'arrow', fill: 'solid', size: 'medium', rotation: 0 },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'arrow', fill: 'solid', size: 'medium', rotation: 90 },
      { shapeType: 'arrow', fill: 'empty', size: 'medium', rotation: 90 },
      { shapeType: 'arrow', fill: 'empty', size: 'medium', rotation: 0 },
      { shapeType: 'triangle', fill: 'empty', size: 'medium', rotation: 90 },
      { shapeType: 'arrow', fill: 'solid', size: 'medium', rotation: 180 },
    ],
    correctAnswer: 1,
    rowRule: 'Shape rotates 90° and fill changes from solid to empty across the row',
    explanation: 'Across each row, the shape rotates 90° and fill changes from solid to empty. Triangle 0°/solid → triangle 90°/empty. Arrow 0°/solid → arrow 90°/empty.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-7',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'diamond', fill: 'empty', size: 'large', rotation: 0 },
      { shapeType: 'diamond', fill: 'striped-horizontal', size: 'large', rotation: 45 },
      { shapeType: 'pentagon', fill: 'empty', size: 'large', rotation: 0 },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'pentagon', fill: 'empty', size: 'large', rotation: 45 },
      { shapeType: 'pentagon', fill: 'striped-horizontal', size: 'large', rotation: 0 },
      { shapeType: 'pentagon', fill: 'striped-horizontal', size: 'large', rotation: 45 },
      { shapeType: 'diamond', fill: 'striped-horizontal', size: 'large', rotation: 45 },
      { shapeType: 'pentagon', fill: 'solid', size: 'large', rotation: 45 },
    ],
    correctAnswer: 2,
    rowRule: 'Shape rotates 45° and fill changes from empty to striped across the row',
    explanation: 'Across each row, the shape rotates 45° and fill changes from empty to striped-horizontal. Pentagon at 0°/empty should become pentagon at 45°/striped-horizontal.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-8',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'star', fill: 'solid', size: 'small', rotation: 0 },
      { shapeType: 'star', fill: 'dotted', size: 'small', rotation: 180 },
      { shapeType: 'hexagon', fill: 'solid', size: 'small', rotation: 0 },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'hexagon', fill: 'solid', size: 'small', rotation: 180 },
      { shapeType: 'hexagon', fill: 'dotted', size: 'small', rotation: 0 },
      { shapeType: 'star', fill: 'dotted', size: 'small', rotation: 180 },
      { shapeType: 'hexagon', fill: 'dotted', size: 'small', rotation: 180 },
      { shapeType: 'hexagon', fill: 'empty', size: 'small', rotation: 180 },
    ],
    correctAnswer: 3,
    rowRule: 'Shape rotates 180° and fill changes from solid to dotted across the row',
    explanation: 'Across each row, the shape rotates 180° and fill becomes dotted. Hexagon 0°/solid → hexagon 180°/dotted.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-9',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'square', fill: 'striped-vertical', size: 'medium', rotation: 0 },
      { shapeType: 'square', fill: 'solid', size: 'medium', rotation: 90 },
      { shapeType: 'cross', fill: 'striped-vertical', size: 'medium', rotation: 0 },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'cross', fill: 'solid', size: 'medium', rotation: 0 },
      { shapeType: 'cross', fill: 'striped-vertical', size: 'medium', rotation: 90 },
      { shapeType: 'cross', fill: 'solid', size: 'medium', rotation: 90 },
      { shapeType: 'square', fill: 'solid', size: 'medium', rotation: 90 },
      { shapeType: 'cross', fill: 'empty', size: 'medium', rotation: 90 },
    ],
    correctAnswer: 2,
    rowRule: 'Shape rotates 90° and fill changes from striped to solid across the row',
    explanation: 'Across each row, the shape rotates 90° and fill changes from striped-vertical to solid. Cross 0°/striped → cross 90°/solid.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-10',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'circle', fill: 'dotted', size: 'large', rotation: 0 },
      { shapeType: 'circle', fill: 'empty', size: 'large', rotation: 90 },
      { shapeType: 'triangle', fill: 'dotted', size: 'large', rotation: 0 },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'triangle', fill: 'dotted', size: 'large', rotation: 90 },
      { shapeType: 'triangle', fill: 'empty', size: 'large', rotation: 0 },
      { shapeType: 'circle', fill: 'empty', size: 'large', rotation: 90 },
      { shapeType: 'triangle', fill: 'solid', size: 'large', rotation: 90 },
      { shapeType: 'triangle', fill: 'empty', size: 'large', rotation: 90 },
    ],
    correctAnswer: 4,
    rowRule: 'Shape rotates 90° and fill changes from dotted to empty across the row',
    explanation: 'Across each row, the shape rotates 90° and fill changes from dotted to empty. Triangle 0°/dotted → triangle 90°/empty.',
  },

  // --- Inner shape appears/disappears (5 questions) ---
  {
    type: 'figure-matrices',
    id: 'fm-m-11',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'square', fill: 'empty', size: 'large', innerShape: 'none' },
      { shapeType: 'square', fill: 'empty', size: 'large', innerShape: 'circle' },
      { shapeType: 'triangle', fill: 'empty', size: 'large', innerShape: 'none' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'triangle', fill: 'empty', size: 'large', innerShape: 'none' },
      { shapeType: 'triangle', fill: 'empty', size: 'large', innerShape: 'square' },
      { shapeType: 'triangle', fill: 'empty', size: 'large', innerShape: 'circle' },
      { shapeType: 'square', fill: 'empty', size: 'large', innerShape: 'circle' },
      { shapeType: 'triangle', fill: 'solid', size: 'large', innerShape: 'circle' },
    ],
    correctAnswer: 2,
    rowRule: 'Inner circle appears in the right column',
    explanation: 'Left column has no inner shape, right column adds an inner circle. Empty square gains a circle. Empty triangle should gain a circle.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-12',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'circle', fill: 'solid', size: 'medium', innerShape: 'dot' },
      { shapeType: 'circle', fill: 'solid', size: 'medium', innerShape: 'none' },
      { shapeType: 'hexagon', fill: 'solid', size: 'medium', innerShape: 'dot' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'hexagon', fill: 'solid', size: 'medium', innerShape: 'dot' },
      { shapeType: 'hexagon', fill: 'solid', size: 'medium', innerShape: 'none' },
      { shapeType: 'hexagon', fill: 'empty', size: 'medium', innerShape: 'none' },
      { shapeType: 'circle', fill: 'solid', size: 'medium', innerShape: 'none' },
      { shapeType: 'hexagon', fill: 'solid', size: 'medium', innerShape: 'circle' },
    ],
    correctAnswer: 1,
    rowRule: 'Inner dot disappears in the right column',
    explanation: 'Left column has an inner dot, right column has no inner shape. Circle loses its dot. Hexagon should also lose its dot.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-13',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'pentagon', fill: 'empty', size: 'large', innerShape: 'none' },
      { shapeType: 'pentagon', fill: 'empty', size: 'large', innerShape: 'triangle' },
      { shapeType: 'diamond', fill: 'empty', size: 'large', innerShape: 'none' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'diamond', fill: 'empty', size: 'large', innerShape: 'none' },
      { shapeType: 'diamond', fill: 'empty', size: 'large', innerShape: 'circle' },
      { shapeType: 'diamond', fill: 'empty', size: 'large', innerShape: 'triangle' },
      { shapeType: 'pentagon', fill: 'empty', size: 'large', innerShape: 'triangle' },
      { shapeType: 'diamond', fill: 'solid', size: 'large', innerShape: 'triangle' },
    ],
    correctAnswer: 2,
    rowRule: 'Inner triangle appears in the right column',
    explanation: 'Left column has no inner shape, right column adds an inner triangle. Pentagon gains a triangle. Diamond should also gain a triangle.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-14',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'star', fill: 'solid', size: 'small', innerShape: 'dot' },
      { shapeType: 'star', fill: 'solid', size: 'small', innerShape: 'circle' },
      { shapeType: 'arrow', fill: 'solid', size: 'small', innerShape: 'dot' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'arrow', fill: 'solid', size: 'small', innerShape: 'dot' },
      { shapeType: 'arrow', fill: 'solid', size: 'small', innerShape: 'circle' },
      { shapeType: 'star', fill: 'solid', size: 'small', innerShape: 'circle' },
      { shapeType: 'arrow', fill: 'solid', size: 'small', innerShape: 'none' },
      { shapeType: 'arrow', fill: 'empty', size: 'small', innerShape: 'circle' },
    ],
    correctAnswer: 1,
    rowRule: 'Inner shape changes from dot to circle across the row',
    explanation: 'Left column has inner dot, right column has inner circle (dot grows to circle). Star dot → star circle. Arrow dot → arrow circle.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-15',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'hexagon', fill: 'empty', size: 'medium', innerShape: 'square' },
      { shapeType: 'hexagon', fill: 'empty', size: 'medium', innerShape: 'diamond' },
      { shapeType: 'circle', fill: 'empty', size: 'medium', innerShape: 'square' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'circle', fill: 'empty', size: 'medium', innerShape: 'square' },
      { shapeType: 'circle', fill: 'empty', size: 'medium', innerShape: 'circle' },
      { shapeType: 'hexagon', fill: 'empty', size: 'medium', innerShape: 'diamond' },
      { shapeType: 'circle', fill: 'empty', size: 'medium', innerShape: 'diamond' },
      { shapeType: 'circle', fill: 'solid', size: 'medium', innerShape: 'diamond' },
    ],
    correctAnswer: 3,
    rowRule: 'Inner shape changes from square to diamond across the row',
    explanation: 'Left column has inner square, right column has inner diamond (square rotates to diamond). Circle with square should become circle with diamond.',
  },

  // --- Size + shape combined (5 questions) ---
  {
    type: 'figure-matrices',
    id: 'fm-m-16',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'circle', fill: 'solid', size: 'small' },
      { shapeType: 'square', fill: 'solid', size: 'large' },
      { shapeType: 'triangle', fill: 'solid', size: 'small' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'triangle', fill: 'solid', size: 'large' },
      { shapeType: 'pentagon', fill: 'solid', size: 'large' },
      { shapeType: 'hexagon', fill: 'solid', size: 'large' },
      { shapeType: 'diamond', fill: 'solid', size: 'large' },
      { shapeType: 'star', fill: 'solid', size: 'large' },
    ],
    correctAnswer: 1,
    rowRule: 'Shape gains sides and size increases from small to large across the row',
    explanation: 'Across rows, the shape gains sides (circle→square=4 sides) and grows from small to large. Triangle (3 sides) should become pentagon (5 sides, adding 2) and grow to large.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-17',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'hexagon', fill: 'empty', size: 'large' },
      { shapeType: 'triangle', fill: 'empty', size: 'small' },
      { shapeType: 'pentagon', fill: 'empty', size: 'large' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'circle', fill: 'empty', size: 'small' },
      { shapeType: 'square', fill: 'empty', size: 'small' },
      { shapeType: 'triangle', fill: 'empty', size: 'small' },
      { shapeType: 'diamond', fill: 'empty', size: 'small' },
      { shapeType: 'pentagon', fill: 'empty', size: 'small' },
    ],
    correctAnswer: 1,
    rowRule: 'Shape loses sides and size decreases from large to small across the row',
    explanation: 'Across rows, the shape loses sides (hexagon 6→triangle 3) and shrinks from large to small. Pentagon (5 sides) should become a shape with fewer sides (square, 4 sides) at small size.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-18',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'triangle', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'triangle', fill: 'striped-horizontal', size: 'large' },
      { shapeType: 'square', fill: 'striped-horizontal', size: 'medium' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'square', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'square', fill: 'striped-horizontal', size: 'large' },
      { shapeType: 'triangle', fill: 'striped-horizontal', size: 'large' },
      { shapeType: 'square', fill: 'solid', size: 'large' },
      { shapeType: 'square', fill: 'striped-horizontal', size: 'small' },
    ],
    correctAnswer: 1,
    rowRule: 'Size increases from medium to large across the row; shape changes down columns',
    explanation: 'Across rows, size grows from medium to large. Down columns, shape changes from triangle to square. Missing cell: large striped-horizontal square.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-19',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'star', fill: 'dotted', size: 'large' },
      { shapeType: 'star', fill: 'dotted', size: 'small' },
      { shapeType: 'diamond', fill: 'dotted', size: 'large' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'diamond', fill: 'dotted', size: 'large' },
      { shapeType: 'star', fill: 'dotted', size: 'small' },
      { shapeType: 'diamond', fill: 'solid', size: 'small' },
      { shapeType: 'diamond', fill: 'dotted', size: 'small' },
      { shapeType: 'diamond', fill: 'dotted', size: 'medium' },
    ],
    correctAnswer: 3,
    rowRule: 'Size shrinks from large to small across the row; shape changes down columns',
    explanation: 'Across rows, size shrinks from large to small. Down columns, shape changes star→diamond. Missing cell: small dotted diamond.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-m-20',
    difficulty: 'medium',
    gridSize: 2,
    cells: [
      { shapeType: 'cross', fill: 'solid', size: 'small' },
      { shapeType: 'arrow', fill: 'solid', size: 'medium' },
      { shapeType: 'cross', fill: 'empty', size: 'small' },
      null,
    ],
    missingIndex: 3,
    choices: [
      { shapeType: 'arrow', fill: 'solid', size: 'medium' },
      { shapeType: 'arrow', fill: 'empty', size: 'medium' },
      { shapeType: 'cross', fill: 'empty', size: 'medium' },
      { shapeType: 'arrow', fill: 'empty', size: 'small' },
      { shapeType: 'arrow', fill: 'striped-horizontal', size: 'medium' },
    ],
    correctAnswer: 1,
    rowRule: 'Shape changes cross→arrow and size changes small→medium across the row',
    colRule: 'Fill changes solid→empty down columns',
    explanation: 'Across rows: cross→arrow, small→medium. Down columns: solid→empty. Missing cell: arrow, empty, medium.',
  },

  // ============================================================
  // HARD QUESTIONS (fm-h-1 through fm-h-20) — 3×3 matrices
  // ============================================================

  // --- Row rule: rotation increases; Column rule: fill changes (5 questions) ---
  {
    type: 'figure-matrices',
    id: 'fm-h-1',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'triangle', fill: 'solid', size: 'medium', rotation: 0 },
      { shapeType: 'triangle', fill: 'solid', size: 'medium', rotation: 45 },
      { shapeType: 'triangle', fill: 'solid', size: 'medium', rotation: 90 },
      { shapeType: 'triangle', fill: 'empty', size: 'medium', rotation: 0 },
      { shapeType: 'triangle', fill: 'empty', size: 'medium', rotation: 45 },
      { shapeType: 'triangle', fill: 'empty', size: 'medium', rotation: 90 },
      { shapeType: 'triangle', fill: 'dotted', size: 'medium', rotation: 0 },
      { shapeType: 'triangle', fill: 'dotted', size: 'medium', rotation: 45 },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'triangle', fill: 'dotted', size: 'medium', rotation: 90 },
      { shapeType: 'triangle', fill: 'solid', size: 'medium', rotation: 90 },
      { shapeType: 'triangle', fill: 'dotted', size: 'medium', rotation: 0 },
      { shapeType: 'triangle', fill: 'empty', size: 'medium', rotation: 90 },
      { shapeType: 'triangle', fill: 'dotted', size: 'medium', rotation: 135 },
    ],
    correctAnswer: 0,
    rowRule: 'Rotation increases by 45° across each row (0°, 45°, 90°)',
    colRule: 'Fill changes down columns: solid, empty, dotted',
    explanation: 'Rows: rotation goes 0°→45°→90°. Columns: fill goes solid→empty→dotted. Missing cell: triangle, dotted, 90°.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-2',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'arrow', fill: 'solid', size: 'medium', rotation: 0 },
      { shapeType: 'arrow', fill: 'solid', size: 'medium', rotation: 90 },
      { shapeType: 'arrow', fill: 'solid', size: 'medium', rotation: 180 },
      { shapeType: 'arrow', fill: 'striped-horizontal', size: 'medium', rotation: 0 },
      { shapeType: 'arrow', fill: 'striped-horizontal', size: 'medium', rotation: 90 },
      { shapeType: 'arrow', fill: 'striped-horizontal', size: 'medium', rotation: 180 },
      { shapeType: 'arrow', fill: 'empty', size: 'medium', rotation: 0 },
      { shapeType: 'arrow', fill: 'empty', size: 'medium', rotation: 90 },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'arrow', fill: 'empty', size: 'medium', rotation: 270 },
      { shapeType: 'arrow', fill: 'solid', size: 'medium', rotation: 180 },
      { shapeType: 'arrow', fill: 'empty', size: 'medium', rotation: 180 },
      { shapeType: 'arrow', fill: 'striped-horizontal', size: 'medium', rotation: 180 },
      { shapeType: 'arrow', fill: 'empty', size: 'medium', rotation: 0 },
    ],
    correctAnswer: 2,
    rowRule: 'Rotation increases by 90° across each row (0°, 90°, 180°)',
    colRule: 'Fill changes down columns: solid, striped-horizontal, empty',
    explanation: 'Rows: rotation goes 0°→90°→180°. Columns: fill goes solid→striped→empty. Missing cell: arrow, empty, 180°.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-3',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'diamond', fill: 'empty', size: 'small', rotation: 0 },
      { shapeType: 'diamond', fill: 'empty', size: 'small', rotation: 30 },
      { shapeType: 'diamond', fill: 'empty', size: 'small', rotation: 60 },
      { shapeType: 'diamond', fill: 'solid', size: 'small', rotation: 0 },
      { shapeType: 'diamond', fill: 'solid', size: 'small', rotation: 30 },
      { shapeType: 'diamond', fill: 'solid', size: 'small', rotation: 60 },
      { shapeType: 'diamond', fill: 'striped-diagonal', size: 'small', rotation: 0 },
      { shapeType: 'diamond', fill: 'striped-diagonal', size: 'small', rotation: 30 },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'diamond', fill: 'striped-diagonal', size: 'small', rotation: 0 },
      { shapeType: 'diamond', fill: 'striped-diagonal', size: 'small', rotation: 60 },
      { shapeType: 'diamond', fill: 'solid', size: 'small', rotation: 60 },
      { shapeType: 'diamond', fill: 'striped-diagonal', size: 'small', rotation: 90 },
      { shapeType: 'diamond', fill: 'empty', size: 'small', rotation: 60 },
    ],
    correctAnswer: 1,
    rowRule: 'Rotation increases by 30° across each row (0°, 30°, 60°)',
    colRule: 'Fill changes down columns: empty, solid, striped-diagonal',
    explanation: 'Rows: rotation goes 0°→30°→60°. Columns: fill goes empty→solid→striped-diagonal. Missing cell: diamond, striped-diagonal, 60°.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-4',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'star', fill: 'dotted', size: 'large', rotation: 0 },
      { shapeType: 'star', fill: 'dotted', size: 'large', rotation: 120 },
      { shapeType: 'star', fill: 'dotted', size: 'large', rotation: 240 },
      { shapeType: 'star', fill: 'solid', size: 'large', rotation: 0 },
      { shapeType: 'star', fill: 'solid', size: 'large', rotation: 120 },
      { shapeType: 'star', fill: 'solid', size: 'large', rotation: 240 },
      { shapeType: 'star', fill: 'striped-vertical', size: 'large', rotation: 0 },
      { shapeType: 'star', fill: 'striped-vertical', size: 'large', rotation: 120 },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'star', fill: 'striped-vertical', size: 'large', rotation: 0 },
      { shapeType: 'star', fill: 'dotted', size: 'large', rotation: 240 },
      { shapeType: 'star', fill: 'solid', size: 'large', rotation: 240 },
      { shapeType: 'star', fill: 'striped-vertical', size: 'large', rotation: 240 },
      { shapeType: 'star', fill: 'striped-vertical', size: 'large', rotation: 180 },
    ],
    correctAnswer: 3,
    rowRule: 'Rotation increases by 120° across each row (0°, 120°, 240°)',
    colRule: 'Fill changes down columns: dotted, solid, striped-vertical',
    explanation: 'Rows: rotation goes 0°→120°→240°. Columns: fill goes dotted→solid→striped-vertical. Missing cell: star, striped-vertical, 240°.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-5',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'hexagon', fill: 'solid', size: 'medium', rotation: 0 },
      { shapeType: 'hexagon', fill: 'solid', size: 'medium', rotation: 60 },
      { shapeType: 'hexagon', fill: 'solid', size: 'medium', rotation: 120 },
      { shapeType: 'hexagon', fill: 'striped-horizontal', size: 'medium', rotation: 0 },
      { shapeType: 'hexagon', fill: 'striped-horizontal', size: 'medium', rotation: 60 },
      { shapeType: 'hexagon', fill: 'striped-horizontal', size: 'medium', rotation: 120 },
      { shapeType: 'hexagon', fill: 'dotted', size: 'medium', rotation: 0 },
      { shapeType: 'hexagon', fill: 'dotted', size: 'medium', rotation: 60 },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'hexagon', fill: 'dotted', size: 'medium', rotation: 0 },
      { shapeType: 'hexagon', fill: 'dotted', size: 'medium', rotation: 120 },
      { shapeType: 'hexagon', fill: 'solid', size: 'medium', rotation: 120 },
      { shapeType: 'hexagon', fill: 'striped-horizontal', size: 'medium', rotation: 120 },
      { shapeType: 'hexagon', fill: 'dotted', size: 'medium', rotation: 180 },
    ],
    correctAnswer: 1,
    rowRule: 'Rotation increases by 60° across each row (0°, 60°, 120°)',
    colRule: 'Fill changes down columns: solid, striped-horizontal, dotted',
    explanation: 'Rows: rotation goes 0°→60°→120°. Columns: fill goes solid→striped→dotted. Missing cell: hexagon, dotted, 120°.',
  },

  // --- Row rule: shape changes; Column rule: size changes (5 questions) ---
  {
    type: 'figure-matrices',
    id: 'fm-h-6',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'circle', fill: 'solid', size: 'small' },
      { shapeType: 'square', fill: 'solid', size: 'small' },
      { shapeType: 'triangle', fill: 'solid', size: 'small' },
      { shapeType: 'circle', fill: 'solid', size: 'medium' },
      { shapeType: 'square', fill: 'solid', size: 'medium' },
      { shapeType: 'triangle', fill: 'solid', size: 'medium' },
      { shapeType: 'circle', fill: 'solid', size: 'large' },
      { shapeType: 'square', fill: 'solid', size: 'large' },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'circle', fill: 'solid', size: 'large' },
      { shapeType: 'triangle', fill: 'solid', size: 'large' },
      { shapeType: 'square', fill: 'solid', size: 'large' },
      { shapeType: 'triangle', fill: 'empty', size: 'large' },
      { shapeType: 'triangle', fill: 'solid', size: 'medium' },
    ],
    correctAnswer: 1,
    rowRule: 'Shape changes across row: circle, square, triangle',
    colRule: 'Size increases down columns: small, medium, large',
    explanation: 'Rows: circle→square→triangle. Columns: small→medium→large. Missing cell: triangle, solid, large.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-7',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'pentagon', fill: 'empty', size: 'large' },
      { shapeType: 'hexagon', fill: 'empty', size: 'large' },
      { shapeType: 'star', fill: 'empty', size: 'large' },
      { shapeType: 'pentagon', fill: 'empty', size: 'medium' },
      { shapeType: 'hexagon', fill: 'empty', size: 'medium' },
      { shapeType: 'star', fill: 'empty', size: 'medium' },
      { shapeType: 'pentagon', fill: 'empty', size: 'small' },
      { shapeType: 'hexagon', fill: 'empty', size: 'small' },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'star', fill: 'solid', size: 'small' },
      { shapeType: 'pentagon', fill: 'empty', size: 'small' },
      { shapeType: 'hexagon', fill: 'empty', size: 'small' },
      { shapeType: 'star', fill: 'empty', size: 'small' },
      { shapeType: 'star', fill: 'empty', size: 'medium' },
    ],
    correctAnswer: 3,
    rowRule: 'Shape changes across row: pentagon, hexagon, star',
    colRule: 'Size decreases down columns: large, medium, small',
    explanation: 'Rows: pentagon→hexagon→star. Columns: large→medium→small. Missing cell: star, empty, small.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-8',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'diamond', fill: 'striped-horizontal', size: 'small' },
      { shapeType: 'cross', fill: 'striped-horizontal', size: 'small' },
      { shapeType: 'arrow', fill: 'striped-horizontal', size: 'small' },
      { shapeType: 'diamond', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'cross', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'arrow', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'diamond', fill: 'striped-horizontal', size: 'large' },
      { shapeType: 'cross', fill: 'striped-horizontal', size: 'large' },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'arrow', fill: 'solid', size: 'large' },
      { shapeType: 'arrow', fill: 'striped-horizontal', size: 'medium' },
      { shapeType: 'cross', fill: 'striped-horizontal', size: 'large' },
      { shapeType: 'diamond', fill: 'striped-horizontal', size: 'large' },
      { shapeType: 'arrow', fill: 'striped-horizontal', size: 'large' },
    ],
    correctAnswer: 4,
    rowRule: 'Shape changes across row: diamond, cross, arrow',
    colRule: 'Size increases down columns: small, medium, large',
    explanation: 'Rows: diamond→cross→arrow. Columns: small→medium→large. Missing cell: arrow, striped-horizontal, large.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-9',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'triangle', fill: 'dotted', size: 'small' },
      { shapeType: 'pentagon', fill: 'dotted', size: 'small' },
      { shapeType: 'hexagon', fill: 'dotted', size: 'small' },
      { shapeType: 'triangle', fill: 'dotted', size: 'medium' },
      { shapeType: 'pentagon', fill: 'dotted', size: 'medium' },
      { shapeType: 'hexagon', fill: 'dotted', size: 'medium' },
      { shapeType: 'triangle', fill: 'dotted', size: 'large' },
      { shapeType: 'pentagon', fill: 'dotted', size: 'large' },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'hexagon', fill: 'dotted', size: 'large' },
      { shapeType: 'hexagon', fill: 'solid', size: 'large' },
      { shapeType: 'pentagon', fill: 'dotted', size: 'large' },
      { shapeType: 'hexagon', fill: 'dotted', size: 'medium' },
      { shapeType: 'triangle', fill: 'dotted', size: 'large' },
    ],
    correctAnswer: 0,
    rowRule: 'Shape changes across row: triangle, pentagon, hexagon (increasing sides)',
    colRule: 'Size increases down columns: small, medium, large',
    explanation: 'Rows: triangle→pentagon→hexagon (increasing sides). Columns: small→medium→large. Missing cell: hexagon, dotted, large.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-10',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'square', fill: 'solid', size: 'large' },
      { shapeType: 'circle', fill: 'solid', size: 'large' },
      { shapeType: 'diamond', fill: 'solid', size: 'large' },
      { shapeType: 'square', fill: 'solid', size: 'medium' },
      { shapeType: 'circle', fill: 'solid', size: 'medium' },
      { shapeType: 'diamond', fill: 'solid', size: 'medium' },
      { shapeType: 'square', fill: 'solid', size: 'small' },
      { shapeType: 'circle', fill: 'solid', size: 'small' },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'diamond', fill: 'empty', size: 'small' },
      { shapeType: 'circle', fill: 'solid', size: 'small' },
      { shapeType: 'square', fill: 'solid', size: 'small' },
      { shapeType: 'diamond', fill: 'solid', size: 'small' },
      { shapeType: 'diamond', fill: 'solid', size: 'medium' },
    ],
    correctAnswer: 3,
    rowRule: 'Shape changes across row: square, circle, diamond',
    colRule: 'Size decreases down columns: large, medium, small',
    explanation: 'Rows: square→circle→diamond. Columns: large→medium→small. Missing cell: diamond, solid, small.',
  },

  // --- Row rule: fill changes; Column rule: inner shape changes (5 questions) ---
  {
    type: 'figure-matrices',
    id: 'fm-h-11',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'square', fill: 'solid', size: 'large', innerShape: 'circle' },
      { shapeType: 'square', fill: 'empty', size: 'large', innerShape: 'circle' },
      { shapeType: 'square', fill: 'dotted', size: 'large', innerShape: 'circle' },
      { shapeType: 'square', fill: 'solid', size: 'large', innerShape: 'triangle' },
      { shapeType: 'square', fill: 'empty', size: 'large', innerShape: 'triangle' },
      { shapeType: 'square', fill: 'dotted', size: 'large', innerShape: 'triangle' },
      { shapeType: 'square', fill: 'solid', size: 'large', innerShape: 'dot' },
      { shapeType: 'square', fill: 'empty', size: 'large', innerShape: 'dot' },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'square', fill: 'solid', size: 'large', innerShape: 'dot' },
      { shapeType: 'square', fill: 'dotted', size: 'large', innerShape: 'circle' },
      { shapeType: 'square', fill: 'dotted', size: 'large', innerShape: 'dot' },
      { shapeType: 'square', fill: 'empty', size: 'large', innerShape: 'dot' },
      { shapeType: 'square', fill: 'dotted', size: 'large', innerShape: 'triangle' },
    ],
    correctAnswer: 2,
    rowRule: 'Fill changes across row: solid, empty, dotted',
    colRule: 'Inner shape changes down columns: circle, triangle, dot',
    explanation: 'Rows: fill goes solid→empty→dotted. Columns: inner shape goes circle→triangle→dot. Missing cell: square, dotted, inner dot.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-12',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'circle', fill: 'empty', size: 'medium', innerShape: 'none' },
      { shapeType: 'circle', fill: 'striped-horizontal', size: 'medium', innerShape: 'none' },
      { shapeType: 'circle', fill: 'solid', size: 'medium', innerShape: 'none' },
      { shapeType: 'circle', fill: 'empty', size: 'medium', innerShape: 'dot' },
      { shapeType: 'circle', fill: 'striped-horizontal', size: 'medium', innerShape: 'dot' },
      { shapeType: 'circle', fill: 'solid', size: 'medium', innerShape: 'dot' },
      { shapeType: 'circle', fill: 'empty', size: 'medium', innerShape: 'square' },
      { shapeType: 'circle', fill: 'striped-horizontal', size: 'medium', innerShape: 'square' },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'circle', fill: 'solid', size: 'medium', innerShape: 'none' },
      { shapeType: 'circle', fill: 'solid', size: 'medium', innerShape: 'dot' },
      { shapeType: 'circle', fill: 'empty', size: 'medium', innerShape: 'square' },
      { shapeType: 'circle', fill: 'solid', size: 'medium', innerShape: 'square' },
      { shapeType: 'circle', fill: 'striped-horizontal', size: 'medium', innerShape: 'square' },
    ],
    correctAnswer: 3,
    rowRule: 'Fill changes across row: empty, striped-horizontal, solid',
    colRule: 'Inner shape changes down columns: none, dot, square',
    explanation: 'Rows: fill goes empty→striped→solid. Columns: inner shape goes none→dot→square. Missing cell: circle, solid, inner square.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-13',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'hexagon', fill: 'solid', size: 'small', innerShape: 'star' },
      { shapeType: 'hexagon', fill: 'dotted', size: 'small', innerShape: 'star' },
      { shapeType: 'hexagon', fill: 'striped-vertical', size: 'small', innerShape: 'star' },
      { shapeType: 'hexagon', fill: 'solid', size: 'small', innerShape: 'circle' },
      { shapeType: 'hexagon', fill: 'dotted', size: 'small', innerShape: 'circle' },
      { shapeType: 'hexagon', fill: 'striped-vertical', size: 'small', innerShape: 'circle' },
      { shapeType: 'hexagon', fill: 'solid', size: 'small', innerShape: 'diamond' },
      { shapeType: 'hexagon', fill: 'dotted', size: 'small', innerShape: 'diamond' },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'hexagon', fill: 'striped-vertical', size: 'small', innerShape: 'star' },
      { shapeType: 'hexagon', fill: 'solid', size: 'small', innerShape: 'diamond' },
      { shapeType: 'hexagon', fill: 'striped-vertical', size: 'small', innerShape: 'diamond' },
      { shapeType: 'hexagon', fill: 'dotted', size: 'small', innerShape: 'diamond' },
      { shapeType: 'hexagon', fill: 'striped-vertical', size: 'small', innerShape: 'circle' },
    ],
    correctAnswer: 2,
    rowRule: 'Fill changes across row: solid, dotted, striped-vertical',
    colRule: 'Inner shape changes down columns: star, circle, diamond',
    explanation: 'Rows: fill goes solid→dotted→striped-vertical. Columns: inner shape goes star→circle→diamond. Missing cell: hexagon, striped-vertical, inner diamond.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-14',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'pentagon', fill: 'striped-diagonal', size: 'large', innerShape: 'dot' },
      { shapeType: 'pentagon', fill: 'solid', size: 'large', innerShape: 'dot' },
      { shapeType: 'pentagon', fill: 'empty', size: 'large', innerShape: 'dot' },
      { shapeType: 'pentagon', fill: 'striped-diagonal', size: 'large', innerShape: 'triangle' },
      { shapeType: 'pentagon', fill: 'solid', size: 'large', innerShape: 'triangle' },
      { shapeType: 'pentagon', fill: 'empty', size: 'large', innerShape: 'triangle' },
      { shapeType: 'pentagon', fill: 'striped-diagonal', size: 'large', innerShape: 'pentagon' },
      { shapeType: 'pentagon', fill: 'solid', size: 'large', innerShape: 'pentagon' },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'pentagon', fill: 'empty', size: 'large', innerShape: 'dot' },
      { shapeType: 'pentagon', fill: 'striped-diagonal', size: 'large', innerShape: 'pentagon' },
      { shapeType: 'pentagon', fill: 'solid', size: 'large', innerShape: 'pentagon' },
      { shapeType: 'pentagon', fill: 'empty', size: 'large', innerShape: 'triangle' },
      { shapeType: 'pentagon', fill: 'empty', size: 'large', innerShape: 'pentagon' },
    ],
    correctAnswer: 4,
    rowRule: 'Fill changes across row: striped-diagonal, solid, empty',
    colRule: 'Inner shape changes down columns: dot, triangle, pentagon',
    explanation: 'Rows: fill goes striped-diagonal→solid→empty. Columns: inner shape goes dot→triangle→pentagon. Missing cell: pentagon, empty, inner pentagon.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-15',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'triangle', fill: 'solid', size: 'medium', innerShape: 'circle' },
      { shapeType: 'triangle', fill: 'striped-horizontal', size: 'medium', innerShape: 'circle' },
      { shapeType: 'triangle', fill: 'dotted', size: 'medium', innerShape: 'circle' },
      { shapeType: 'triangle', fill: 'solid', size: 'medium', innerShape: 'square' },
      { shapeType: 'triangle', fill: 'striped-horizontal', size: 'medium', innerShape: 'square' },
      { shapeType: 'triangle', fill: 'dotted', size: 'medium', innerShape: 'square' },
      { shapeType: 'triangle', fill: 'solid', size: 'medium', innerShape: 'star' },
      { shapeType: 'triangle', fill: 'striped-horizontal', size: 'medium', innerShape: 'star' },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'triangle', fill: 'dotted', size: 'medium', innerShape: 'circle' },
      { shapeType: 'triangle', fill: 'solid', size: 'medium', innerShape: 'star' },
      { shapeType: 'triangle', fill: 'striped-horizontal', size: 'medium', innerShape: 'star' },
      { shapeType: 'triangle', fill: 'dotted', size: 'medium', innerShape: 'square' },
      { shapeType: 'triangle', fill: 'dotted', size: 'medium', innerShape: 'star' },
    ],
    correctAnswer: 4,
    rowRule: 'Fill changes across row: solid, striped-horizontal, dotted',
    colRule: 'Inner shape changes down columns: circle, square, star',
    explanation: 'Rows: fill goes solid→striped→dotted. Columns: inner shape goes circle→square→star. Missing cell: triangle, dotted, inner star.',
  },

  // --- Row: rotation + shape; Column: fill + size (5 questions) ---
  {
    type: 'figure-matrices',
    id: 'fm-h-16',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'triangle', fill: 'solid', size: 'small', rotation: 0 },
      { shapeType: 'triangle', fill: 'solid', size: 'small', rotation: 90 },
      { shapeType: 'triangle', fill: 'solid', size: 'small', rotation: 180 },
      { shapeType: 'triangle', fill: 'empty', size: 'medium', rotation: 0 },
      { shapeType: 'triangle', fill: 'empty', size: 'medium', rotation: 90 },
      { shapeType: 'triangle', fill: 'empty', size: 'medium', rotation: 180 },
      { shapeType: 'triangle', fill: 'striped-horizontal', size: 'large', rotation: 0 },
      { shapeType: 'triangle', fill: 'striped-horizontal', size: 'large', rotation: 90 },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'triangle', fill: 'striped-horizontal', size: 'large', rotation: 0 },
      { shapeType: 'triangle', fill: 'striped-horizontal', size: 'large', rotation: 180 },
      { shapeType: 'triangle', fill: 'empty', size: 'large', rotation: 180 },
      { shapeType: 'triangle', fill: 'solid', size: 'large', rotation: 180 },
      { shapeType: 'triangle', fill: 'striped-horizontal', size: 'large', rotation: 270 },
    ],
    correctAnswer: 1,
    rowRule: 'Rotation increases by 90° across each row (0°, 90°, 180°)',
    colRule: 'Fill changes (solid, empty, striped) and size increases (small, medium, large) down columns',
    explanation: 'Rows: rotation 0°→90°→180°. Columns: fill solid→empty→striped and size small→medium→large. Missing cell: triangle, striped-horizontal, large, 180°.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-17',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'square', fill: 'empty', size: 'large', rotation: 0 },
      { shapeType: 'square', fill: 'empty', size: 'large', rotation: 45 },
      { shapeType: 'square', fill: 'empty', size: 'large', rotation: 90 },
      { shapeType: 'square', fill: 'solid', size: 'medium', rotation: 0 },
      { shapeType: 'square', fill: 'solid', size: 'medium', rotation: 45 },
      { shapeType: 'square', fill: 'solid', size: 'medium', rotation: 90 },
      { shapeType: 'square', fill: 'dotted', size: 'small', rotation: 0 },
      { shapeType: 'square', fill: 'dotted', size: 'small', rotation: 45 },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'square', fill: 'dotted', size: 'small', rotation: 90 },
      { shapeType: 'square', fill: 'solid', size: 'small', rotation: 90 },
      { shapeType: 'square', fill: 'dotted', size: 'medium', rotation: 90 },
      { shapeType: 'square', fill: 'dotted', size: 'small', rotation: 0 },
      { shapeType: 'square', fill: 'empty', size: 'small', rotation: 90 },
    ],
    correctAnswer: 0,
    rowRule: 'Rotation increases by 45° across each row (0°, 45°, 90°)',
    colRule: 'Fill changes (empty, solid, dotted) and size decreases (large, medium, small) down columns',
    explanation: 'Rows: rotation 0°→45°→90°. Columns: fill empty→solid→dotted and size large→medium→small. Missing cell: square, dotted, small, 90°.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-18',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'arrow', fill: 'solid', size: 'small', rotation: 0 },
      { shapeType: 'arrow', fill: 'solid', size: 'small', rotation: 120 },
      { shapeType: 'arrow', fill: 'solid', size: 'small', rotation: 240 },
      { shapeType: 'arrow', fill: 'striped-vertical', size: 'medium', rotation: 0 },
      { shapeType: 'arrow', fill: 'striped-vertical', size: 'medium', rotation: 120 },
      { shapeType: 'arrow', fill: 'striped-vertical', size: 'medium', rotation: 240 },
      { shapeType: 'arrow', fill: 'empty', size: 'large', rotation: 0 },
      { shapeType: 'arrow', fill: 'empty', size: 'large', rotation: 120 },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'arrow', fill: 'empty', size: 'large', rotation: 0 },
      { shapeType: 'arrow', fill: 'empty', size: 'large', rotation: 240 },
      { shapeType: 'arrow', fill: 'striped-vertical', size: 'large', rotation: 240 },
      { shapeType: 'arrow', fill: 'solid', size: 'large', rotation: 240 },
      { shapeType: 'arrow', fill: 'empty', size: 'medium', rotation: 240 },
    ],
    correctAnswer: 1,
    rowRule: 'Rotation increases by 120° across each row (0°, 120°, 240°)',
    colRule: 'Fill changes (solid, striped, empty) and size increases (small, medium, large) down columns',
    explanation: 'Rows: rotation 0°→120°→240°. Columns: fill solid→striped→empty and size small→medium→large. Missing cell: arrow, empty, large, 240°.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-19',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'pentagon', fill: 'dotted', size: 'large', rotation: 0 },
      { shapeType: 'pentagon', fill: 'dotted', size: 'large', rotation: 72 },
      { shapeType: 'pentagon', fill: 'dotted', size: 'large', rotation: 144 },
      { shapeType: 'pentagon', fill: 'solid', size: 'medium', rotation: 0 },
      { shapeType: 'pentagon', fill: 'solid', size: 'medium', rotation: 72 },
      { shapeType: 'pentagon', fill: 'solid', size: 'medium', rotation: 144 },
      { shapeType: 'pentagon', fill: 'striped-diagonal', size: 'small', rotation: 0 },
      { shapeType: 'pentagon', fill: 'striped-diagonal', size: 'small', rotation: 72 },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'pentagon', fill: 'striped-diagonal', size: 'small', rotation: 0 },
      { shapeType: 'pentagon', fill: 'striped-diagonal', size: 'small', rotation: 144 },
      { shapeType: 'pentagon', fill: 'solid', size: 'small', rotation: 144 },
      { shapeType: 'pentagon', fill: 'dotted', size: 'small', rotation: 144 },
      { shapeType: 'pentagon', fill: 'striped-diagonal', size: 'medium', rotation: 144 },
    ],
    correctAnswer: 1,
    rowRule: 'Rotation increases by 72° across each row (0°, 72°, 144°)',
    colRule: 'Fill changes (dotted, solid, striped-diagonal) and size decreases (large, medium, small) down columns',
    explanation: 'Rows: rotation 0°→72°→144°. Columns: fill dotted→solid→striped-diagonal and size large→medium→small. Missing cell: pentagon, striped-diagonal, small, 144°.',
  },
  {
    type: 'figure-matrices',
    id: 'fm-h-20',
    difficulty: 'hard',
    gridSize: 3,
    cells: [
      { shapeType: 'cross', fill: 'striped-horizontal', size: 'small', rotation: 0 },
      { shapeType: 'cross', fill: 'striped-horizontal', size: 'small', rotation: 45 },
      { shapeType: 'cross', fill: 'striped-horizontal', size: 'small', rotation: 90 },
      { shapeType: 'cross', fill: 'empty', size: 'medium', rotation: 0 },
      { shapeType: 'cross', fill: 'empty', size: 'medium', rotation: 45 },
      { shapeType: 'cross', fill: 'empty', size: 'medium', rotation: 90 },
      { shapeType: 'cross', fill: 'solid', size: 'large', rotation: 0 },
      { shapeType: 'cross', fill: 'solid', size: 'large', rotation: 45 },
      null,
    ],
    missingIndex: 8,
    choices: [
      { shapeType: 'cross', fill: 'solid', size: 'large', rotation: 90 },
      { shapeType: 'cross', fill: 'empty', size: 'large', rotation: 90 },
      { shapeType: 'cross', fill: 'solid', size: 'medium', rotation: 90 },
      { shapeType: 'cross', fill: 'striped-horizontal', size: 'large', rotation: 90 },
      { shapeType: 'cross', fill: 'solid', size: 'large', rotation: 0 },
    ],
    correctAnswer: 0,
    rowRule: 'Rotation increases by 45° across each row (0°, 45°, 90°)',
    colRule: 'Fill changes (striped, empty, solid) and size increases (small, medium, large) down columns',
    explanation: 'Rows: rotation 0°→45°→90°. Columns: fill striped→empty→solid and size small→medium→large. Missing cell: cross, solid, large, 90°.',
  },
];
